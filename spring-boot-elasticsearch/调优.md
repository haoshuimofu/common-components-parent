#写
总结（可能的最佳实践）
通过解决这几个问题，可以对ES集群配置和使用有个大概的最佳实践
1. 尽量将多的单次请求合并为bulk 操作
2. 对实时性要求不高的索引refresh_interval调整为30s
3. 对文档丢失的关注度不高，或者有定期补偿机制的可以将index.translog.sync_interval 设置为60S index.translog.durability设置为async，以及索引不多的情况下将index.translog.flush_threshold_size调整为1GB
4. merge.policy.max_merged_segment调整为1GB，降低大数据segment参与merge segment操作
5. 不要对_id进行排序或者聚合操作
6. 不需要分词的字段不要设置为text，不必要的字段可以不需要索引
7. 减少delete_by_query的使用
8. 业务代码对ES频繁写操作要进行限流削峰
9. number_of_replica设置为1即可，2备份会消耗过多内存
10. 主分片要尽量分布在不同节点。